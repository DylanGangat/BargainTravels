{"id":"scripts/city.js","dependencies":[{"name":"C:\\Users\\Admin\\Desktop\\BargainTravels\\package.json","includedInParent":true,"mtime":1633348896633},{"name":"./script.js","loc":{"line":1,"column":7},"parent":"C:\\Users\\Admin\\Desktop\\BargainTravels\\public\\scripts\\city.js","resolved":"C:\\Users\\Admin\\Desktop\\BargainTravels\\public\\scripts\\script.js"}],"generated":{"js":"\"use strict\";\n\nrequire(\"./script.js\");"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":3,"column":0},"source":"scripts/city.js","original":{"line":1,"column":0}}],"sources":{"scripts/city.js":"import \"./script.js\";\r\n// const destination = JSON.parse(sessionStorage.getItem(\"Destination\"));\r\n// const placeInfo = document.querySelector(\"[data-destination]\");\r\n// const placeName = document.querySelector(\"[data-heading]\");\r\n// const aboutName = document.querySelector(\"[data-sub-heading]\");\r\n// const placeDescription = document.querySelector(\"[data-description]\");\r\n// // console.log(destination);\r\n// // console.log(placeInfo);\r\n\r\n// // const destinationCoordinates = async destination => {\r\n// //   const URL = `https://travel-advisor.p.rapidapi.com/locations/v2/auto-complete?query=${destination}&lang=en_US&units=km`;\r\n\r\n// //   try {\r\n// //     const response = await fetch(URL, {\r\n// //       method: \"GET\",\r\n// //       headers: {\r\n// //         \"x-rapidapi-host\": \"travel-advisor.p.rapidapi.com\",\r\n// //         \"x-rapidapi-key\": \"16e3acdd49msh25947ac11c794fap1f8ca9jsn211243103f14\",\r\n// //       },\r\n// //     });\r\n\r\n// //     if (!response.ok) return console.error(\"response status error\");\r\n// //     const data = await response.json();\r\n// //     const placeDetails = data.data.Typeahead_autocomplete.results[0].detailsV2;\r\n// //     console.log(\"DETAILS\", placeDetails);\r\n// //     const name = placeDetails.names.name;\r\n// //     const latitude = placeDetails.geocode.latitude;\r\n// //     const longitude = placeDetails.geocode.longitude;\r\n// //     const locationId = placeDetails.locationId;\r\n// //     console.log(\r\n// //       \"name:\",\r\n// //       name,\r\n// //       \"longitude:\",\r\n// //       longitude,\r\n// //       \"longitude:\",\r\n// //       latitude,\r\n// //       \"locationId:\",\r\n// //       locationId\r\n// //     );\r\n\r\n// //     destinationPhotos(locationId, name);\r\n// //   } catch (e) {\r\n// //     console.error(e);\r\n// //   }\r\n// // };\r\n\r\n// // Using the deprecating API because it's the only one that has a description of the destination\r\n// const destinationCoordinates = async destination => {\r\n//   const URL = `https://travel-advisor.p.rapidapi.com/locations/auto-complete?query=${destination}&lang=en_US&units=km`;\r\n\r\n//   try {\r\n//     const response = await fetch(URL, {\r\n//       method: \"GET\",\r\n//       headers: {\r\n//         \"x-rapidapi-host\": \"travel-advisor.p.rapidapi.com\",\r\n//         \"x-rapidapi-key\": \"a2bab0e7f1mshba65b16d9bca6a4p1fb290jsncdb7eb0d8f34\",\r\n//       },\r\n//     });\r\n\r\n//     if (!response.ok) return console.error(\"response status error\");\r\n//     const data = await response.json();\r\n//     // console.log(data.data[0].result_object);\r\n//     const placeDetails = data.data[0].result_object;\r\n//     console.log(\"DETAILS\", placeDetails);\r\n//     const name = placeDetails.name;\r\n//     const latitude = placeDetails.latitude;\r\n//     const longitude = placeDetails.longitude;\r\n//     const locationId = placeDetails.location_id;\r\n//     const description = placeDetails.description;\r\n//     console.log(\r\n//       \"name:\",\r\n//       name,\r\n//       \"longitude:\",\r\n//       longitude,\r\n//       \"longitude:\",\r\n//       latitude,\r\n//       \"locationId:\",\r\n//       locationId,\r\n//       \"description:\",\r\n//       description\r\n//     );\r\n\r\n//     destinationPhotos(locationId, name, description);\r\n//     // destinationAttractions(latitude, longitude);\r\n//     destinationAttractions(locationId);\r\n//   } catch (e) {\r\n//     console.error(e);\r\n//   }\r\n// };\r\n\r\n// destinationCoordinates(destination);\r\n\r\n// // Get PHOTOS AND INFO on places in city/country\r\n// const destinationPhotos = async (locationId, name, description) => {\r\n//   const URL = `https://travel-advisor.p.rapidapi.com/photos/list?location_id=${locationId}&currency=ZAR&limit=10&lang=en_US`;\r\n\r\n//   try {\r\n//     const response = await fetch(URL, {\r\n//       method: \"GET\",\r\n//       headers: {\r\n//         \"x-rapidapi-host\": \"travel-advisor.p.rapidapi.com\",\r\n//         \"x-rapidapi-key\": \"a2bab0e7f1mshba65b16d9bca6a4p1fb290jsncdb7eb0d8f34\",\r\n//       },\r\n//     });\r\n\r\n//     if (!response.ok) return console.error(\"response status error\");\r\n//     const data = await response.json();\r\n//     const photoGroup = data.data.slice(0, 3);\r\n\r\n//     // Adds name of place to heading\r\n//     placeName.innerHTML = `<h1 data-heading><span class=\"text-secondary-400 font-semibold\">Explore</span> ${name}</h1>`;\r\n//     aboutName.innerHTML = `About ${name}`;\r\n//     placeDescription.innerHTML = description;\r\n\r\n//     destinationInfoTemplate(photoGroup);\r\n//   } catch (e) {\r\n//     console.error(e);\r\n//   }\r\n// };\r\n\r\n// // Function for getting the photos\r\n\r\n// const destinationInfoTemplate = photoGroup => {\r\n//   // placeInfo.innerHTML = \"\";\r\n\r\n//   // console.log(\r\n//   //   photoGroup.forEach(picture => {\r\n//   //     const image = picture.images.large.url;\r\n//   //     const caption = picture.caption;\r\n//   //     const hero = `\r\n//   //   <img class=\"sm:col-span-3 sm:row-span-4 h-full w-full object-cover rounded-lg\" src=\"${image}\" alt=\"${caption}\">\r\n//   //   `;\r\n//   //     placeInfo.innerHTML += hero;\r\n//   //   })\r\n//   // );\r\n//   const picture1 = photoGroup[0].images.original.url;\r\n//   const caption1 = photoGroup[0].caption;\r\n\r\n//   const picture2 = photoGroup[1].images.large.url;\r\n//   const caption2 = photoGroup[1].caption;\r\n\r\n//   const picture3 = photoGroup[2].images.large.url;\r\n//   const caption3 = photoGroup[2].caption;\r\n//   const hero = `\r\n//         <img class=\"sm:col-span-3 sm:row-span-4 h-full w-full object-cover rounded-lg\" src=\"${picture1}\" alt=\"${caption1}\">\r\n//         <img class=\"sm:col-span-2 sm:row-span-2 h-full w-full object-cover rounded-lg\" src=\"${picture2}\" alt=\"${caption2}\">\r\n//         <img class=\"sm:col-span-2 sm:row-span-2 h-full w-full object-cover rounded-lg\" src=\"${picture3}\" alt=\"${caption3}\">\r\n//     `;\r\n//   placeInfo.innerHTML = hero;\r\n// };\r\n\r\n// // Get the THINGS TO DO for the destination\r\n\r\n// // const destinationAttractions = async (latitude, longitude) => {\r\n// //   const URL = `https://travel-advisor.p.rapidapi.com/attractions/list-by-latlng?longitude=${longitude}&latitude=${latitude}&lunit=km&currency=ZAR&lang=en_US`;\r\n\r\n// //   try {\r\n// //     const response = await fetch(URL, {\r\n// //       method: \"GET\",\r\n// //       headers: {\r\n// //         \"x-rapidapi-host\": \"travel-advisor.p.rapidapi.com\",\r\n// //         \"x-rapidapi-key\": \"16e3acdd49msh25947ac11c794fap1f8ca9jsn211243103f14\",\r\n// //       },\r\n// //     });\r\n\r\n// //     if (!response.ok) return console.error(\"response status error\");\r\n\r\n// //     const data = await response.json();\r\n// //     const attraction = data.data.slice(0, 12);\r\n// //     console.log(attraction);\r\n// //   } catch (e) {\r\n// //     console.error(e);\r\n// //   }\r\n// // };\r\n\r\n// const destinationAttractions = async locationId => {\r\n//   const URL = `https://travel-advisor.p.rapidapi.com/attractions/list?location_id=${locationId}&currency=ZAR&lang=en_US&lunit=km&sort=ranking`;\r\n\r\n//   try {\r\n//     const response = await fetch(URL, {\r\n//       method: \"GET\",\r\n//       headers: {\r\n//         \"x-rapidapi-host\": \"travel-advisor.p.rapidapi.com\",\r\n//         \"x-rapidapi-key\": \"a2bab0e7f1mshba65b16d9bca6a4p1fb290jsncdb7eb0d8f34\",\r\n//       },\r\n//     });\r\n\r\n//     if (!response.ok) return console.error(\"response status error\");\r\n\r\n//     const data = await response.json();\r\n//     console.log(data.data);\r\n\r\n//     const attractions = data.data;\r\n//     // attractions.filter(item => item.location_id != 0);\r\n//     const answer = attractions.filter(\r\n//       item => item.location_id != 0 && !item.ad_position\r\n//     );\r\n//     console.log(\"Filtered for ratings:\", answer);\r\n//     // console.log(attraction);\r\n//   } catch (e) {\r\n//     console.error(e);\r\n//   }\r\n// };\r\n"},"lineCount":null}},"error":null,"hash":"ec6c37210db42098dcdf79d043394d74","cacheData":{"env":{}}}